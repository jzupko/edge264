/**
 * This file contains a few independent programs that were used to validate
 * decoding routines. Don't expect to compile it directly since the definitions
 * may have changed since. However the code may be salvaged and repurposed.
 */
#define TRACE 1
#include "edge264_common.h"
#ifdef __SSSE3__
static inline void print_v4si(__m128i x) {
	for (int i = 0; i < 4; i++)
		printf("%5d ", ((v4si)x)[i]);
	printf("\n");
}
static inline void print_v8hi(__m128i x) {
	for (int i = 0; i < 8; i++)
		printf("%3d ", ((v8hi)x)[i]);
	printf("\n");
}
static inline void print_v16qu(__m128i x) {
	for (int i = 0; i < 16; i++)
		printf("%3d ", ((v16qu)x)[i]);
	printf("\n");
}
#include "edge264_residual_ssse3.c"
#include "edge264_intra_ssse3.c"
#endif

#define RED   "\x1b[31m"
#define GREEN "\x1b[32m"
#define RESET "\x1b[0m"

static void intra_test(int w, int h, int has_dc, int wide, int mode, const char *name, const uint16_t *result) {
	static uint8_t dc2ac[] = {
		VERTICAL_4x4_BUFFERED,
		HORIZONTAL_4x4_BUFFERED,
		DC_4x4_BUFFERED,
		PLANE_4x4_BUFFERED,
		DC_4x4_BUFFERED,
		DC_4x4_BUFFERED,
		DC_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		HORIZONTAL_4x4_BUFFERED,
		PLANE_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		VERTICAL_4x4_BUFFERED,
		HORIZONTAL_4x4_BUFFERED,
		PLANE_4x4_BUFFERED,
	};
	
	ctx->PredMode[0] = mode;
	ctx->BlkIdx = 0;
	ctx->ps.BitDepth_Y = ctx->ps.BitDepth_C = wide ? 14 : 8;
	decode_samples();
	
	if (has_dc) {
		int i = dc2ac[mode - (wide ? VERTICAL_16x16_16_BIT : VERTICAL_16x16)] +
			(wide ? VERTICAL_4x4_16_BIT : 0);
		ctx->PredMode_v[0] = (v16qu){i, i, i, i, i, i, i, i, i, i, i, i, i, i, i, i};
		for (ctx->BlkIdx = 0; ctx->BlkIdx < w * h / 16; ctx->BlkIdx++)
			decode_samples();
	}
	
	int pass = 1;
	for (int r = 0; r < h; r++) {
		for (int c = 0; c < w; c++) {
			uint8_t *p = ctx->plane;
			uint16_t *q = (uint16_t *)p;
			pass &= result[r * w + c] == (wide ? q[r * 32 + c] : p[r * 32 + c]);
		}
	}
	
	printf("%s: ", name);
	if (pass) {
		puts(GREEN "PASS" RESET);
	} else {
		puts(RED "FAIL" RESET);
		for (int r = -1; r < h; r++) {
			for (int c = -1; c < w; c++) {
			uint8_t *p = ctx->plane;
			uint16_t *q = (uint16_t *)p;
				printf(wide ? "%5d " : "%3d ", wide ? q[r * 32 + c] : p[r * 32 + c]);
			}
			putchar('\n');
		}
		exit(0);
	}
}



int main() {
	uint8_t *p = malloc(64 * 17) + 96;
	for (int i = 16; i-- > 0;)
		p[32 * i - 1] = 186 - i * 4;
	for (int i = -1; i < 16; i++)
		p[i - 32] = 194 + i * 4;
	Edge264_ctx c = {
		.plane = p,
		.clip = (v8hi){255, 255, 255, 255, 255, 255, 255, 255},
		.stride = 32,
		.plane_offsets = {0, 4, 128, 132, 8, 12, 136, 140, 256, 260, 384, 388, 264, 268, 392, 396},
	};
	Edge264_macroblock m = {};
	ctx = &c;
	mb = &m;
	
#define test(str, ...) intra_test(4, 4, 0, 0, str, #str , (uint16_t[]){__VA_ARGS__})
	test(VERTICAL_4x4, 194, 198, 202, 206, 194, 198, 202, 206, 194, 198, 202, 206, 194, 198, 202, 206);
	test(HORIZONTAL_4x4, 186, 186, 186, 186, 182, 182, 182, 182, 178, 178, 178, 178, 174, 174, 174, 174);
	test(DC_4x4, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190);
	test(DC_4x4_A, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200);
	test(DC_4x4_B, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180);
	test(DC_4x4_AB, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128);
	test(DIAGONAL_DOWN_LEFT_4x4, 198, 202, 206, 210, 202, 206, 210, 214, 206, 210, 214, 218, 210, 214, 218, 221);
	test(DIAGONAL_DOWN_LEFT_4x4_C, 198, 202, 205, 206, 202, 205, 206, 206, 205, 206, 206, 206, 206, 206, 206, 206);
	test(DIAGONAL_DOWN_RIGHT_4x4, 190, 194, 198, 202, 186, 190, 194, 198, 182, 186, 190, 194, 178, 182, 186, 190);
	test(VERTICAL_RIGHT_4x4, 192, 196, 200, 204, 190, 194, 198, 202, 186, 192, 196, 200, 182, 190, 194, 198);
	test(HORIZONTAL_DOWN_4x4, 188, 190, 194, 198, 184, 186, 188, 190, 180, 182, 184, 186, 176, 178, 180, 182);
	test(VERTICAL_LEFT_4x4, 196, 200, 204, 208, 198, 202, 206, 210, 200, 204, 208, 212, 202, 206, 210, 214);
	test(VERTICAL_LEFT_4x4_C, 196, 200, 204, 206, 198, 202, 205, 206, 200, 204, 206, 206, 202, 205, 206, 206);
	test(HORIZONTAL_UP_4x4, 184, 182, 180, 178, 180, 178, 176, 175, 176, 175, 174, 174, 174, 174, 174, 174);
	putchar('\n');
#undef test
	
#define test(str, ...) intra_test(8, 8, 0, 0, str, #str , (uint16_t[]){__VA_ARGS__})
	test(VERTICAL_8x8, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222);
	test(VERTICAL_8x8_C, 194, 198, 202, 206, 210, 214, 218, 221, 194, 198, 202, 206, 210, 214, 218, 221, 194, 198, 202, 206, 210, 214, 218, 221, 194, 198, 202, 206, 210, 214, 218, 221, 194, 198, 202, 206, 210, 214, 218, 221, 194, 198, 202, 206, 210, 214, 218, 221, 194, 198, 202, 206, 210, 214, 218, 221, 194, 198, 202, 206, 210, 214, 218, 221);
	test(VERTICAL_8x8_D, 195, 198, 202, 206, 210, 214, 218, 222, 195, 198, 202, 206, 210, 214, 218, 222, 195, 198, 202, 206, 210, 214, 218, 222, 195, 198, 202, 206, 210, 214, 218, 222, 195, 198, 202, 206, 210, 214, 218, 222, 195, 198, 202, 206, 210, 214, 218, 222, 195, 198, 202, 206, 210, 214, 218, 222, 195, 198, 202, 206, 210, 214, 218, 222);
	test(VERTICAL_8x8_CD, 195, 198, 202, 206, 210, 214, 218, 221, 195, 198, 202, 206, 210, 214, 218, 221, 195, 198, 202, 206, 210, 214, 218, 221, 195, 198, 202, 206, 210, 214, 218, 221, 195, 198, 202, 206, 210, 214, 218, 221, 195, 198, 202, 206, 210, 214, 218, 221, 195, 198, 202, 206, 210, 214, 218, 221, 195, 198, 202, 206, 210, 214, 218, 221);
	test(HORIZONTAL_8x8, 186, 186, 186, 186, 186, 186, 186, 186, 182, 182, 182, 182, 182, 182, 182, 182, 178, 178, 178, 178, 178, 178, 178, 178, 174, 174, 174, 174, 174, 174, 174, 174, 170, 170, 170, 170, 170, 170, 170, 170, 166, 166, 166, 166, 166, 166, 166, 166, 162, 162, 162, 162, 162, 162, 162, 162, 159, 159, 159, 159, 159, 159, 159, 159);
	test(HORIZONTAL_8x8_D, 185, 185, 185, 185, 185, 185, 185, 185, 182, 182, 182, 182, 182, 182, 182, 182, 178, 178, 178, 178, 178, 178, 178, 178, 174, 174, 174, 174, 174, 174, 174, 174, 170, 170, 170, 170, 170, 170, 170, 170, 166, 166, 166, 166, 166, 166, 166, 166, 162, 162, 162, 162, 162, 162, 162, 162, 159, 159, 159, 159, 159, 159, 159, 159);
	test(DC_8x8, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190);
	test(DC_8x8_C, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190);
	test(DC_8x8_D, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190);
	test(DC_8x8_CD, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190);
	test(DC_8x8_A, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208);
	test(DC_8x8_AC, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208);
	test(DC_8x8_AD, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208);
	test(DC_8x8_ACD, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208);
	test(DC_8x8_B, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172);
	test(DC_8x8_BD, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172);
	test(DC_8x8_AB, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128);
	test(DIAGONAL_DOWN_LEFT_8x8, 198, 202, 206, 210, 214, 218, 222, 226, 202, 206, 210, 214, 218, 222, 226, 230, 206, 210, 214, 218, 222, 226, 230, 234, 210, 214, 218, 222, 226, 230, 234, 238, 214, 218, 222, 226, 230, 234, 238, 242, 218, 222, 226, 230, 234, 238, 242, 246, 222, 226, 230, 234, 238, 242, 246, 250, 226, 230, 234, 238, 242, 246, 250, 252);
	test(DIAGONAL_DOWN_LEFT_8x8_C, 198, 202, 206, 210, 214, 218, 221, 222, 202, 206, 210, 214, 218, 221, 222, 222, 206, 210, 214, 218, 221, 222, 222, 222, 210, 214, 218, 221, 222, 222, 222, 222, 214, 218, 221, 222, 222, 222, 222, 222, 218, 221, 222, 222, 222, 222, 222, 222, 221, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222);
	test(DIAGONAL_DOWN_LEFT_8x8_D, 198, 202, 206, 210, 214, 218, 222, 226, 202, 206, 210, 214, 218, 222, 226, 230, 206, 210, 214, 218, 222, 226, 230, 234, 210, 214, 218, 222, 226, 230, 234, 238, 214, 218, 222, 226, 230, 234, 238, 242, 218, 222, 226, 230, 234, 238, 242, 246, 222, 226, 230, 234, 238, 242, 246, 250, 226, 230, 234, 238, 242, 246, 250, 252);
	test(DIAGONAL_DOWN_LEFT_8x8_CD, 198, 202, 206, 210, 214, 218, 221, 222, 202, 206, 210, 214, 218, 221, 222, 222, 206, 210, 214, 218, 221, 222, 222, 222, 210, 214, 218, 221, 222, 222, 222, 222, 214, 218, 221, 222, 222, 222, 222, 222, 218, 221, 222, 222, 222, 222, 222, 222, 221, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222);
	test(DIAGONAL_DOWN_RIGHT_8x8, 190, 194, 198, 202, 206, 210, 214, 218, 186, 190, 194, 198, 202, 206, 210, 214, 182, 186, 190, 194, 198, 202, 206, 210, 178, 182, 186, 190, 194, 198, 202, 206, 174, 178, 182, 186, 190, 194, 198, 202, 170, 174, 178, 182, 186, 190, 194, 198, 166, 170, 174, 178, 182, 186, 190, 194, 162, 166, 170, 174, 178, 182, 186, 190);
	test(DIAGONAL_DOWN_RIGHT_8x8_C, 190, 194, 198, 202, 206, 210, 214, 218, 186, 190, 194, 198, 202, 206, 210, 214, 182, 186, 190, 194, 198, 202, 206, 210, 178, 182, 186, 190, 194, 198, 202, 206, 174, 178, 182, 186, 190, 194, 198, 202, 170, 174, 178, 182, 186, 190, 194, 198, 166, 170, 174, 178, 182, 186, 190, 194, 162, 166, 170, 174, 178, 182, 186, 190);
	test(VERTICAL_RIGHT_8x8, 192, 196, 200, 204, 208, 212, 216, 220, 190, 194, 198, 202, 206, 210, 214, 218, 186, 192, 196, 200, 204, 208, 212, 216, 182, 190, 194, 198, 202, 206, 210, 214, 178, 186, 192, 196, 200, 204, 208, 212, 174, 182, 190, 194, 198, 202, 206, 210, 170, 178, 186, 192, 196, 200, 204, 208, 166, 174, 182, 190, 194, 198, 202, 206);
	test(VERTICAL_RIGHT_8x8_C, 192, 196, 200, 204, 208, 212, 216, 220, 190, 194, 198, 202, 206, 210, 214, 218, 186, 192, 196, 200, 204, 208, 212, 216, 182, 190, 194, 198, 202, 206, 210, 214, 178, 186, 192, 196, 200, 204, 208, 212, 174, 182, 190, 194, 198, 202, 206, 210, 170, 178, 186, 192, 196, 200, 204, 208, 166, 174, 182, 190, 194, 198, 202, 206);
	test(HORIZONTAL_DOWN_8x8, 188, 190, 194, 198, 202, 206, 210, 214, 184, 186, 188, 190, 194, 198, 202, 206, 180, 182, 184, 186, 188, 190, 194, 198, 176, 178, 180, 182, 184, 186, 188, 190, 172, 174, 176, 178, 180, 182, 184, 186, 168, 170, 172, 174, 176, 178, 180, 182, 164, 166, 168, 170, 172, 174, 176, 178, 161, 162, 164, 166, 168, 170, 172, 174);
	test(VERTICAL_LEFT_8x8, 196, 200, 204, 208, 212, 216, 220, 224, 198, 202, 206, 210, 214, 218, 222, 226, 200, 204, 208, 212, 216, 220, 224, 228, 202, 206, 210, 214, 218, 222, 226, 230, 204, 208, 212, 216, 220, 224, 228, 232, 206, 210, 214, 218, 222, 226, 230, 234, 208, 212, 216, 220, 224, 228, 232, 236, 210, 214, 218, 222, 226, 230, 234, 238);
	test(VERTICAL_LEFT_8x8_C, 196, 200, 204, 208, 212, 216, 220, 222, 198, 202, 206, 210, 214, 218, 221, 222, 200, 204, 208, 212, 216, 220, 222, 222, 202, 206, 210, 214, 218, 221, 222, 222, 204, 208, 212, 216, 220, 222, 222, 222, 206, 210, 214, 218, 221, 222, 222, 222, 208, 212, 216, 220, 222, 222, 222, 222, 210, 214, 218, 221, 222, 222, 222, 222);
	test(VERTICAL_LEFT_8x8_D, 197, 200, 204, 208, 212, 216, 220, 224, 198, 202, 206, 210, 214, 218, 222, 226, 200, 204, 208, 212, 216, 220, 224, 228, 202, 206, 210, 214, 218, 222, 226, 230, 204, 208, 212, 216, 220, 224, 228, 232, 206, 210, 214, 218, 222, 226, 230, 234, 208, 212, 216, 220, 224, 228, 232, 236, 210, 214, 218, 222, 226, 230, 234, 238);
	test(VERTICAL_LEFT_8x8_CD, 197, 200, 204, 208, 212, 216, 220, 222, 198, 202, 206, 210, 214, 218, 221, 222, 200, 204, 208, 212, 216, 220, 222, 222, 202, 206, 210, 214, 218, 221, 222, 222, 204, 208, 212, 216, 220, 222, 222, 222, 206, 210, 214, 218, 221, 222, 222, 222, 208, 212, 216, 220, 222, 222, 222, 222, 210, 214, 218, 221, 222, 222, 222, 222);
	test(HORIZONTAL_UP_8x8, 184, 182, 180, 178, 176, 174, 172, 170, 180, 178, 176, 174, 172, 170, 168, 166, 176, 174, 172, 170, 168, 166, 164, 162, 172, 170, 168, 166, 164, 162, 161, 160, 168, 166, 164, 162, 161, 160, 159, 159, 164, 162, 161, 160, 159, 159, 159, 159, 161, 160, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159);
	putchar('\n');
#undef test
	
#define test(str, ...) intra_test(16, 16, 1, 0, str, #str , (uint16_t[]){__VA_ARGS__})
	test(VERTICAL_16x16, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254);
	test(HORIZONTAL_16x16, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126);
	test(DC_16x16, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190);
	test(DC_16x16_A, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224);
	test(DC_16x16_B, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156);
	test(DC_16x16_AB, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128);
	test(PLANE_16x16, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 142, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 138, 142, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 134, 138, 142, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 130, 134, 138, 142, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190);
	putchar('\n');
#undef test
	
#define test(str, ...) intra_test(8, 8, 1, 0, str, #str , (uint16_t[]){__VA_ARGS__})
	test(DC_CHROMA_8x8, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190);
	test(DC_CHROMA_8x8_Ab, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216);
	test(DC_CHROMA_8x8_At, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190);
	test(DC_CHROMA_8x8_A, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216);
	test(DC_CHROMA_8x8_B, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164);
	test(DC_CHROMA_8x8_AbB, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128);
	test(DC_CHROMA_8x8_AtB, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164);
	test(DC_CHROMA_8x8_AB, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128);
	test(VERTICAL_CHROMA_8x8, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222);
	test(HORIZONTAL_CHROMA_8x8, 186, 186, 186, 186, 186, 186, 186, 186, 182, 182, 182, 182, 182, 182, 182, 182, 178, 178, 178, 178, 178, 178, 178, 178, 174, 174, 174, 174, 174, 174, 174, 174, 170, 170, 170, 170, 170, 170, 170, 170, 166, 166, 166, 166, 166, 166, 166, 166, 162, 162, 162, 162, 162, 162, 162, 162, 158, 158, 158, 158, 158, 158, 158, 158);
	test(PLANE_CHROMA_8x8, 190, 194, 198, 202, 206, 210, 214, 218, 186, 190, 194, 198, 202, 206, 210, 214, 182, 186, 190, 194, 198, 202, 206, 210, 178, 182, 186, 190, 194, 198, 202, 206, 174, 178, 182, 186, 190, 194, 198, 202, 170, 174, 178, 182, 186, 190, 194, 198, 166, 170, 174, 178, 182, 186, 190, 194, 162, 166, 170, 174, 178, 182, 186, 190);
	putchar('\n');
#undef test
	
#define test(str, ...) intra_test(8, 16, 1, 0, str, #str , (uint16_t[]){__VA_ARGS__})
	ctx->plane_offsets_v[1] = ctx->plane_offsets_v[2];
	test(DC_CHROMA_8x16, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 148, 148, 148, 148, 182, 182, 182, 182, 148, 148, 148, 148, 182, 182, 182, 182, 148, 148, 148, 148, 182, 182, 182, 182, 148, 148, 148, 148, 182, 182, 182, 182, 132, 132, 132, 132, 174, 174, 174, 174, 132, 132, 132, 132, 174, 174, 174, 174, 132, 132, 132, 132, 174, 174, 174, 174, 132, 132, 132, 132, 174, 174, 174, 174);
	test(DC_CHROMA_8x16_Ab, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216);
	test(DC_CHROMA_8x16_At, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 148, 148, 148, 148, 182, 182, 182, 182, 148, 148, 148, 148, 182, 182, 182, 182, 148, 148, 148, 148, 182, 182, 182, 182, 148, 148, 148, 148, 182, 182, 182, 182, 132, 132, 132, 132, 174, 174, 174, 174, 132, 132, 132, 132, 174, 174, 174, 174, 132, 132, 132, 132, 174, 174, 174, 174, 132, 132, 132, 132, 174, 174, 174, 174);
	test(DC_CHROMA_8x16_A, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216);
	test(DC_CHROMA_8x16_B, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132);
	test(DC_CHROMA_8x16_AbB, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128);
	test(DC_CHROMA_8x16_AtB, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 148, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132);
	test(DC_CHROMA_8x16_AB, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128);
	test(VERTICAL_CHROMA_8x16, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222);
	test(HORIZONTAL_CHROMA_8x16, 186, 186, 186, 186, 186, 186, 186, 186, 182, 182, 182, 182, 182, 182, 182, 182, 178, 178, 178, 178, 178, 178, 178, 178, 174, 174, 174, 174, 174, 174, 174, 174, 170, 170, 170, 170, 170, 170, 170, 170, 166, 166, 166, 166, 166, 166, 166, 166, 162, 162, 162, 162, 162, 162, 162, 162, 158, 158, 158, 158, 158, 158, 158, 158, 154, 154, 154, 154, 154, 154, 154, 154, 150, 150, 150, 150, 150, 150, 150, 150, 146, 146, 146, 146, 146, 146, 146, 146, 142, 142, 142, 142, 142, 142, 142, 142, 138, 138, 138, 138, 138, 138, 138, 138, 134, 134, 134, 134, 134, 134, 134, 134, 130, 130, 130, 130, 130, 130, 130, 130, 126, 126, 126, 126, 126, 126, 126, 126);
	test(PLANE_CHROMA_8x16, 190, 194, 198, 202, 206, 210, 214, 218, 186, 190, 194, 198, 202, 206, 210, 214, 182, 186, 190, 194, 198, 202, 206, 210, 178, 182, 186, 190, 194, 198, 202, 206, 174, 178, 182, 186, 190, 194, 198, 202, 170, 174, 178, 182, 186, 190, 194, 198, 166, 170, 174, 178, 182, 186, 190, 194, 162, 166, 170, 174, 178, 182, 186, 190, 158, 162, 166, 170, 174, 178, 182, 186, 154, 158, 162, 166, 170, 174, 178, 182, 150, 154, 158, 162, 166, 170, 174, 178, 146, 150, 154, 158, 162, 166, 170, 174, 142, 146, 150, 154, 158, 162, 166, 170, 138, 142, 146, 150, 154, 158, 162, 166, 134, 138, 142, 146, 150, 154, 158, 162, 130, 134, 138, 142, 146, 150, 154, 158);
	putchar('\n');
#undef test
	
	uint16_t *q = (uint16_t *)p;
	for (int i = 16; i-- > 0;)
		q[32 * i - 1] = 16314 - i * 4;
	for (int i = -1; i < 16; i++)
		q[i - 32] = 16322 + i * 4;
	ctx->plane = p;
	ctx->clip_v = (v8hi){16383, 16383, 16383, 16383, 16383, 16383, 16383, 16383},
	ctx->stride = 64;
	ctx->plane_offsets_v[0] += ctx->plane_offsets_v[0];
	ctx->plane_offsets_v[1] = (v4si){16, 24, 272, 280};
	ctx->plane_offsets_v[2] += ctx->plane_offsets_v[2];
	ctx->plane_offsets_v[3] += ctx->plane_offsets_v[3];
	
#define test(str, ...) intra_test(4, 4, 0, 1, str, #str , (uint16_t[]){__VA_ARGS__})
	test(VERTICAL_4x4_16_BIT, 16322, 16326, 16330, 16334, 16322, 16326, 16330, 16334, 16322, 16326, 16330, 16334, 16322, 16326, 16330, 16334);
	test(HORIZONTAL_4x4_16_BIT, 16314, 16314, 16314, 16314, 16310, 16310, 16310, 16310, 16306, 16306, 16306, 16306, 16302, 16302, 16302, 16302);
	test(DC_4x4_16_BIT, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318);
	test(DC_4x4_A_16_BIT, 16328, 16328, 16328, 16328, 16328, 16328, 16328, 16328, 16328, 16328, 16328, 16328, 16328, 16328, 16328, 16328);
	test(DC_4x4_B_16_BIT, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308);
	test(DC_4x4_AB_16_BIT, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192);
	test(DIAGONAL_DOWN_LEFT_4x4_16_BIT, 16326, 16330, 16334, 16338, 16330, 16334, 16338, 16342, 16334, 16338, 16342, 16346, 16338, 16342, 16346, 16349);
	test(DIAGONAL_DOWN_LEFT_4x4_C_16_BIT, 16326, 16330, 16333, 16334, 16330, 16333, 16334, 16334, 16333, 16334, 16334, 16334, 16334, 16334, 16334, 16334);
	test(DIAGONAL_DOWN_RIGHT_4x4_16_BIT, 16318, 16322, 16326, 16330, 16314, 16318, 16322, 16326, 16310, 16314, 16318, 16322, 16306, 16310, 16314, 16318);
	test(VERTICAL_RIGHT_4x4_16_BIT, 16320, 16324, 16328, 16332, 16318, 16322, 16326, 16330, 16314, 16320, 16324, 16328, 16310, 16318, 16322, 16326);
	test(HORIZONTAL_DOWN_4x4_16_BIT, 16316, 16318, 16322, 16326, 16312, 16314, 16316, 16318, 16308, 16310, 16312, 16314, 16304, 16306, 16308, 16310);
	test(VERTICAL_LEFT_4x4_16_BIT, 16324, 16328, 16332, 16336, 16326, 16330, 16334, 16338, 16328, 16332, 16336, 16340, 16330, 16334, 16338, 16342);
	test(VERTICAL_LEFT_4x4_C_16_BIT, 16324, 16328, 16332, 16334, 16326, 16330, 16333, 16334, 16328, 16332, 16334, 16334, 16330, 16333, 16334, 16334);
	test(HORIZONTAL_UP_4x4_16_BIT, 16312, 16310, 16308, 16306, 16308, 16306, 16304, 16303, 16304, 16303, 16302, 16302, 16302, 16302, 16302, 16302);
	putchar('\n');
#undef test
	
#define test(str, ...) intra_test(8, 8, 0, 1, str, #str , (uint16_t[]){__VA_ARGS__})
	test(VERTICAL_8x8_16_BIT, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350);
	test(VERTICAL_8x8_C_16_BIT, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16349);
	test(VERTICAL_8x8_D_16_BIT, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16350);
	test(VERTICAL_8x8_CD_16_BIT, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16323, 16326, 16330, 16334, 16338, 16342, 16346, 16349);
	test(HORIZONTAL_8x8_16_BIT, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16287, 16287, 16287, 16287, 16287, 16287, 16287, 16287);
	test(HORIZONTAL_8x8_D_16_BIT, 16313, 16313, 16313, 16313, 16313, 16313, 16313, 16313, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16287, 16287, 16287, 16287, 16287, 16287, 16287, 16287);
	test(DC_8x8_16_BIT, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318);
	test(DC_8x8_C_16_BIT, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318);
	test(DC_8x8_D_16_BIT, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318);
	test(DC_8x8_CD_16_BIT, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318);
	test(DC_8x8_A_16_BIT, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336);
	test(DC_8x8_AC_16_BIT, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336);
	test(DC_8x8_AD_16_BIT, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336);
	test(DC_8x8_ACD_16_BIT, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336, 16336);
	test(DC_8x8_B_16_BIT, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300);
	test(DC_8x8_BD_16_BIT, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300, 16300);
	test(DC_8x8_AB_16_BIT, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192);
	test(DIAGONAL_DOWN_LEFT_8x8_16_BIT, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16380);
	test(DIAGONAL_DOWN_LEFT_8x8_C_16_BIT, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16350, 16330, 16334, 16338, 16342, 16346, 16349, 16350, 16350, 16334, 16338, 16342, 16346, 16349, 16350, 16350, 16350, 16338, 16342, 16346, 16349, 16350, 16350, 16350, 16350, 16342, 16346, 16349, 16350, 16350, 16350, 16350, 16350, 16346, 16349, 16350, 16350, 16350, 16350, 16350, 16350, 16349, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350);
	test(DIAGONAL_DOWN_LEFT_8x8_D_16_BIT, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16380);
	test(DIAGONAL_DOWN_LEFT_8x8_CD_16_BIT, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16350, 16330, 16334, 16338, 16342, 16346, 16349, 16350, 16350, 16334, 16338, 16342, 16346, 16349, 16350, 16350, 16350, 16338, 16342, 16346, 16349, 16350, 16350, 16350, 16350, 16342, 16346, 16349, 16350, 16350, 16350, 16350, 16350, 16346, 16349, 16350, 16350, 16350, 16350, 16350, 16350, 16349, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350, 16350);
	test(DIAGONAL_DOWN_RIGHT_8x8_16_BIT, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318);
	test(DIAGONAL_DOWN_RIGHT_8x8_C_16_BIT, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318);
	test(VERTICAL_RIGHT_8x8_16_BIT, 16320, 16324, 16328, 16332, 16336, 16340, 16344, 16348, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16314, 16320, 16324, 16328, 16332, 16336, 16340, 16344, 16310, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16306, 16314, 16320, 16324, 16328, 16332, 16336, 16340, 16302, 16310, 16318, 16322, 16326, 16330, 16334, 16338, 16298, 16306, 16314, 16320, 16324, 16328, 16332, 16336, 16294, 16302, 16310, 16318, 16322, 16326, 16330, 16334);
	test(VERTICAL_RIGHT_8x8_C_16_BIT, 16320, 16324, 16328, 16332, 16336, 16340, 16344, 16348, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16314, 16320, 16324, 16328, 16332, 16336, 16340, 16344, 16310, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16306, 16314, 16320, 16324, 16328, 16332, 16336, 16340, 16302, 16310, 16318, 16322, 16326, 16330, 16334, 16338, 16298, 16306, 16314, 16320, 16324, 16328, 16332, 16336, 16294, 16302, 16310, 16318, 16322, 16326, 16330, 16334);
	test(HORIZONTAL_DOWN_8x8_16_BIT, 16316, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16312, 16314, 16316, 16318, 16322, 16326, 16330, 16334, 16308, 16310, 16312, 16314, 16316, 16318, 16322, 16326, 16304, 16306, 16308, 16310, 16312, 16314, 16316, 16318, 16300, 16302, 16304, 16306, 16308, 16310, 16312, 16314, 16296, 16298, 16300, 16302, 16304, 16306, 16308, 16310, 16292, 16294, 16296, 16298, 16300, 16302, 16304, 16306, 16289, 16290, 16292, 16294, 16296, 16298, 16300, 16302);
	test(VERTICAL_LEFT_8x8_16_BIT, 16324, 16328, 16332, 16336, 16340, 16344, 16348, 16352, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16328, 16332, 16336, 16340, 16344, 16348, 16352, 16356, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16332, 16336, 16340, 16344, 16348, 16352, 16356, 16360, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16336, 16340, 16344, 16348, 16352, 16356, 16360, 16364, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366);
	test(VERTICAL_LEFT_8x8_C_16_BIT, 16324, 16328, 16332, 16336, 16340, 16344, 16348, 16350, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16350, 16328, 16332, 16336, 16340, 16344, 16348, 16350, 16350, 16330, 16334, 16338, 16342, 16346, 16349, 16350, 16350, 16332, 16336, 16340, 16344, 16348, 16350, 16350, 16350, 16334, 16338, 16342, 16346, 16349, 16350, 16350, 16350, 16336, 16340, 16344, 16348, 16350, 16350, 16350, 16350, 16338, 16342, 16346, 16349, 16350, 16350, 16350, 16350);
	test(VERTICAL_LEFT_8x8_D_16_BIT, 16325, 16328, 16332, 16336, 16340, 16344, 16348, 16352, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16328, 16332, 16336, 16340, 16344, 16348, 16352, 16356, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16332, 16336, 16340, 16344, 16348, 16352, 16356, 16360, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16336, 16340, 16344, 16348, 16352, 16356, 16360, 16364, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366);
	test(VERTICAL_LEFT_8x8_CD_16_BIT, 16325, 16328, 16332, 16336, 16340, 16344, 16348, 16350, 16326, 16330, 16334, 16338, 16342, 16346, 16349, 16350, 16328, 16332, 16336, 16340, 16344, 16348, 16350, 16350, 16330, 16334, 16338, 16342, 16346, 16349, 16350, 16350, 16332, 16336, 16340, 16344, 16348, 16350, 16350, 16350, 16334, 16338, 16342, 16346, 16349, 16350, 16350, 16350, 16336, 16340, 16344, 16348, 16350, 16350, 16350, 16350, 16338, 16342, 16346, 16349, 16350, 16350, 16350, 16350);
	test(HORIZONTAL_UP_8x8_16_BIT, 16312, 16310, 16308, 16306, 16304, 16302, 16300, 16298, 16308, 16306, 16304, 16302, 16300, 16298, 16296, 16294, 16304, 16302, 16300, 16298, 16296, 16294, 16292, 16290, 16300, 16298, 16296, 16294, 16292, 16290, 16289, 16288, 16296, 16294, 16292, 16290, 16289, 16288, 16287, 16287, 16292, 16290, 16289, 16288, 16287, 16287, 16287, 16287, 16289, 16288, 16287, 16287, 16287, 16287, 16287, 16287, 16287, 16287, 16287, 16287, 16287, 16287, 16287, 16287);
	putchar('\n');
#undef test
	
#define test(str, ...) intra_test(16, 16, 1, 1, str, #str , (uint16_t[]){__VA_ARGS__})
	test(VERTICAL_16x16_16_BIT, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16382);
	test(HORIZONTAL_16x16_16_BIT, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254);
	test(DC_16x16_16_BIT, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318, 16318);
	test(DC_16x16_A_16_BIT, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352, 16352);
	test(DC_16x16_B_16_BIT, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284, 16284);
	test(DC_16x16_AB_16_BIT, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192);
	test(PLANE_16x16_16_BIT, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16378, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16374, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16370, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16366, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16362, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16358, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16354, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16282, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16278, 16282, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16274, 16278, 16282, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16270, 16274, 16278, 16282, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16266, 16270, 16274, 16278, 16282, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16262, 16266, 16270, 16274, 16278, 16282, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16258, 16262, 16266, 16270, 16274, 16278, 16282, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318);
	putchar('\n');
#undef test
	
#define test(str, ...) intra_test(8, 8, 1, 1, str, #str , (uint16_t[]){__VA_ARGS__})
	test(DC_CHROMA_8x8_16_BIT, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318);
	test(DC_CHROMA_8x8_Ab_16_BIT, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344);
	test(DC_CHROMA_8x8_At_16_BIT, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318);
	test(DC_CHROMA_8x8_A_16_BIT, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344);
	test(DC_CHROMA_8x8_B_16_BIT, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292);
	test(DC_CHROMA_8x8_AbB_16_BIT, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192);
	test(DC_CHROMA_8x8_AtB_16_BIT, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292);
	test(DC_CHROMA_8x8_AB_16_BIT, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192);
	test(VERTICAL_CHROMA_8x8_16_BIT, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350);
	test(HORIZONTAL_CHROMA_8x8_16_BIT, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286);
	test(PLANE_CHROMA_8x8_16_BIT, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318);
	putchar('\n');
#undef test
	
#define test(str, ...) intra_test(8, 16, 1, 1, str, #str , (uint16_t[]){__VA_ARGS__})
	ctx->plane_offsets_v[1] = ctx->plane_offsets_v[2];
	test(DC_CHROMA_8x16_16_BIT, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16276, 16276, 16276, 16276, 16310, 16310, 16310, 16310, 16276, 16276, 16276, 16276, 16310, 16310, 16310, 16310, 16276, 16276, 16276, 16276, 16310, 16310, 16310, 16310, 16276, 16276, 16276, 16276, 16310, 16310, 16310, 16310, 16260, 16260, 16260, 16260, 16302, 16302, 16302, 16302, 16260, 16260, 16260, 16260, 16302, 16302, 16302, 16302, 16260, 16260, 16260, 16260, 16302, 16302, 16302, 16302, 16260, 16260, 16260, 16260, 16302, 16302, 16302, 16302);
	test(DC_CHROMA_8x16_Ab_16_BIT, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16318, 16318, 16318, 16318, 16344, 16344, 16344, 16344, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16292, 16292, 16292, 16292, 16318, 16318, 16318, 16318, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344);
	test(DC_CHROMA_8x16_At_16_BIT, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16276, 16276, 16276, 16276, 16310, 16310, 16310, 16310, 16276, 16276, 16276, 16276, 16310, 16310, 16310, 16310, 16276, 16276, 16276, 16276, 16310, 16310, 16310, 16310, 16276, 16276, 16276, 16276, 16310, 16310, 16310, 16310, 16260, 16260, 16260, 16260, 16302, 16302, 16302, 16302, 16260, 16260, 16260, 16260, 16302, 16302, 16302, 16302, 16260, 16260, 16260, 16260, 16302, 16302, 16302, 16302, 16260, 16260, 16260, 16260, 16302, 16302, 16302, 16302);
	test(DC_CHROMA_8x16_A_16_BIT, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344, 16328, 16328, 16328, 16328, 16344, 16344, 16344, 16344);
	test(DC_CHROMA_8x16_B_16_BIT, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260);
	test(DC_CHROMA_8x16_AbB_16_BIT, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16308, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 16292, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192);
	test(DC_CHROMA_8x16_AtB_16_BIT, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16276, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260, 16260);
	test(DC_CHROMA_8x16_AB_16_BIT, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192);
	test(VERTICAL_CHROMA_8x16_16_BIT, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16350);
	test(HORIZONTAL_CHROMA_8x16_16_BIT, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16314, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16310, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16306, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16302, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16298, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16294, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16290, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16286, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16282, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16278, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16274, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16270, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16266, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16262, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16258, 16254, 16254, 16254, 16254, 16254, 16254, 16254, 16254);
	test(PLANE_CHROMA_8x16_16_BIT, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16346, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16342, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16338, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16334, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16330, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16326, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16322, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16318, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16314, 16282, 16286, 16290, 16294, 16298, 16302, 16306, 16310, 16278, 16282, 16286, 16290, 16294, 16298, 16302, 16306, 16274, 16278, 16282, 16286, 16290, 16294, 16298, 16302, 16270, 16274, 16278, 16282, 16286, 16290, 16294, 16298, 16266, 16270, 16274, 16278, 16282, 16286, 16290, 16294, 16262, 16266, 16270, 16274, 16278, 16282, 16286, 16290, 16258, 16262, 16266, 16270, 16274, 16278, 16282, 16286);
	putchar('\n');
#undef test
}



// Tiny program testing Intra16x16 and Chroma8x8 validity (jan 2022)
#define TRACE 1
#include "edge264_intra_ssse3.c"

#define RED   "\x1b[31m"
#define GREEN "\x1b[32m"
#define RESET "\x1b[0m"

static void FUNC(test_intra4x4_8bit, int mode, const char *name, const uint8_t *result) {
	decode_intra4x4(mode, ctx->frame, 32, (v8hi){255, 255, 255, 255, 255, 255, 255, 255});
	int pass = 1;
	for (int y = 0; y < 4; y++) {
		for (int x = 0; x < 4; x++)
			pass &= result[y * 4 + x] == ctx->frame[y * 32 + x];
	}
	printf("%s: %s\n", name, pass ? GREEN "PASS" RESET : RED "FAIL" RESET);
	if (!pass) {
		for (int y = -1; y < 4; y++) {
			for (int x = -1; x < 4; x++)
				printf("%3d ", ctx->frame[y * 32 + x]);
			putchar('\n');
		}
		exit(0);
	}
}

static void FUNC(test_intra16x16_8bit, int mode, const char *name, const uint8_t *result) {
	decode_intra16x16(mode, ctx->frame, 32, (v8hi){255, 255, 255, 255, 255, 255, 255, 255});
	int pass = 1;
	for (int y = 0; y < 16; y++) {
		for (int x = 0; x < 16; x++)
			pass &= result[y * 16 + x] == ctx->frame[y * 32 + x];
	}
	printf("%s: %s\n", name, pass ? GREEN "PASS" RESET : RED "FAIL" RESET);
	if (!pass) {
		for (int y = -1; y < 16; y++) {
			for (int x = -1; x < 16; x++)
				printf("%3d ", ctx->frame[y * 32 + x]);
			putchar('\n');
		}
		exit(0);
	}
}

static void FUNC(test_intra8x8_8bit, int mode, int unavail, const uint8_t *result) {
	ctx->inc.unavailable = unavail;
	CALL(decode_intraChroma, mode);
	int pass = 1;
	for (int y = 0; y < 8; y++) {
		for (int x = 0; x < 8; x++)
			pass &= result[y * 8 + x] == ctx->frame[y * 32 + x];
	}
	printf("mode %d, unavail %d: %s\n", mode, unavail, pass ? GREEN "PASS" RESET : RED "FAIL" RESET);
	if (!pass) {
		for (int y = -1; y < 8; y++) {
			for (int x = -1; x < 8; x++)
				printf("%3d ", ctx->frame[y * 32 + x]);
			putchar('\n');
		}
		exit(0);
	}
}

int main() {
	uint8_t *p = malloc(32 * 17) + 48;
	for (int x = -1; x < 16; x++)
		p[x - 32] = 194 + x * 4;
	for (int y = 0; y < 16; y++)
		p[y * 32 - 1] = 186 - y * 4;
	Edge264_ctx c = {
		.frame = p,
		.clip_v = (v8hi){255, 255, 255, 255, 255, 255, 255, 255},
		.stride_Y = 32,
		.stride_C = 32,
	};
	Edge264_ctx *ctx = &c;
	
#define test(str, ...) CALL(test_intra4x4_8bit, str, #str , (uint8_t[]){__VA_ARGS__})
	test(I4x4_V_8, 194, 198, 202, 206, 194, 198, 202, 206, 194, 198, 202, 206, 194, 198, 202, 206);
	test(I4x4_H_8, 186, 186, 186, 186, 182, 182, 182, 182, 178, 178, 178, 178, 174, 174, 174, 174);
	test(I4x4_DC_8, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190);
	test(I4x4_DCA_8, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200);
	test(I4x4_DCB_8, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180);
	test(I4x4_DCAB_8, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128);
	test(I4x4_DDL_8, 198, 202, 206, 210, 202, 206, 210, 214, 206, 210, 214, 218, 210, 214, 218, 221);
	test(I4x4_DDLC_8, 198, 202, 205, 206, 202, 205, 206, 206, 205, 206, 206, 206, 206, 206, 206, 206);
	test(I4x4_DDR_8, 190, 194, 198, 202, 186, 190, 194, 198, 182, 186, 190, 194, 178, 182, 186, 190);
	test(I4x4_VR_8, 192, 196, 200, 204, 190, 194, 198, 202, 186, 192, 196, 200, 182, 190, 194, 198);
	test(I4x4_HD_8, 188, 190, 194, 198, 184, 186, 188, 190, 180, 182, 184, 186, 176, 178, 180, 182);
	test(I4x4_VL_8, 196, 200, 204, 208, 198, 202, 206, 210, 200, 204, 208, 212, 202, 206, 210, 214);
	test(I4x4_VLC_8, 196, 200, 204, 206, 198, 202, 205, 206, 200, 204, 206, 206, 202, 205, 206, 206);
	test(I4x4_HU_8, 184, 182, 180, 178, 180, 178, 176, 175, 176, 175, 174, 174, 174, 174, 174, 174);
	putchar('\n');
#undef test
	
#define test(str, ...) CALL(test_intra16x16_8bit, str, #str , (uint8_t[]){__VA_ARGS__})
	test(I16x16_V_8, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 254);
	test(I16x16_H_8, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 186, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 182, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 174, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 166, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 146, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 138, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 134, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126);
	test(I16x16_DC_8, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190);
	test(I16x16_DCA_8, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224);
	test(I16x16_DCB_8, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156);
	test(I16x16_DCAB_8, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128);
	test(I16x16_P_8, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 250, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 246, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 242, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 238, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 234, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 230, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 226, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 222, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 218, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 214, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 210, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 206, 142, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 202, 138, 142, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 198, 134, 138, 142, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190, 194, 130, 134, 138, 142, 146, 150, 154, 158, 162, 166, 170, 174, 178, 182, 186, 190);
	putchar('\n');
#undef test
	
	puts("Intra Chroma 8x8");
	CALL(test_intra8x8_8bit, 0, 0, (uint8_t[]){190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 190, 190, 190, 190, 216, 216, 216, 216, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190, 164, 164, 164, 164, 190, 190, 190, 190});
	CALL(test_intra8x8_8bit, 0, 1, (uint8_t[]){200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216, 200, 200, 200, 200, 216, 216, 216, 216});
	CALL(test_intra8x8_8bit, 0, 2, (uint8_t[]){180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164});
	CALL(test_intra8x8_8bit, 0, 3, (uint8_t[]){128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128});
	CALL(test_intra8x8_8bit, 1, 0, (uint8_t[]){186, 186, 186, 186, 186, 186, 186, 186, 182, 182, 182, 182, 182, 182, 182, 182, 178, 178, 178, 178, 178, 178, 178, 178, 174, 174, 174, 174, 174, 174, 174, 174, 170, 170, 170, 170, 170, 170, 170, 170, 166, 166, 166, 166, 166, 166, 166, 166, 162, 162, 162, 162, 162, 162, 162, 162, 158, 158, 158, 158, 158, 158, 158, 158});
	CALL(test_intra8x8_8bit, 2, 0, (uint8_t[]){194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222, 194, 198, 202, 206, 210, 214, 218, 222});
	CALL(test_intra8x8_8bit, 3, 0, (uint8_t[]){190, 194, 198, 202, 206, 210, 214, 218, 186, 190, 194, 198, 202, 206, 210, 214, 182, 186, 190, 194, 198, 202, 206, 210, 178, 182, 186, 190, 194, 198, 202, 206, 174, 178, 182, 186, 190, 194, 198, 202, 170, 174, 178, 182, 186, 190, 194, 198, 166, 170, 174, 178, 182, 186, 190, 194, 162, 166, 170, 174, 178, 182, 186, 190});
}
